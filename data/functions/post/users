function users{
param(
    [Parameter(Mandatory=$true)]
    [String] $option,
    [Parameter(Mandatory=$false)]
    [String] $user
  )

  if ($PSVersionTable.PSVersion.Major -lt 5) {
	  printMessage -message "Upgrade your powershell to version 5 or higher"
	  return
  }

	if ($option -eq "get") {
		return get-users	
	} elseif ($option -eq "add"){
		if ($user) {
			New-LocalUser $user -NoPassword	
		} else {
			printMessage -message "You have not written the user"
		}
	} elseif ($option -eq "del") {
		if ($user) {
			Remove-LocalUser $user
		} else {
			printMessage -message "You have not written the user"
		}
	} else {
		printMessage -message "Wrong option"
	}
}


function get-users {
   $localEnabled = Get-LocalUser |  where-object {$_.Enabled -match "True"}

   $aux = "__Enabled Accounts__`r`n"
   Foreach ($u in $localEnabled){
      $aux = $aux + $u + "`r`n"
   }

   $localNotEnabled = Get-LocalUser |  where-object {$_.Enabled -match "False"}

   $aux = $aux + "`r`n__Unenabled accounts__`r`n"
   Foreach ($u in $localNotEnabled){
      $aux = $aux + $u + "`r`n"
   }

   return $aux

}